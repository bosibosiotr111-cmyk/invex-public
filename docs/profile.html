<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>INVEX â€” Complete Your Profile</title>
  <link rel="stylesheet" href="styles.css">
  <style>
    body { background: #101223; color: #fff; font-family: 'Segoe UI', 'Roboto', Arial, sans-serif; }
    .card { background: #181a20; border-radius: 22px; box-shadow: 0 8px 32px 0 #1565ff22; padding: 40px 32px 32px 32px; margin: 48px auto 32px auto; max-width: 420px; width: 100%; }
    h1 { font-size: 2.1rem; font-weight: 900; letter-spacing: 1px; margin-bottom: 10px; text-align: center; color: #fff; }
    label { display: block; margin-bottom: 8px; font-weight: 600; }
    input { background: #232a3b; color: #fff; border: 1.5px solid #232a3b; border-radius: 12px; padding: 10px 16px; font-size: 1.08rem; margin-bottom: 18px; outline: none; width: 100%; transition: border 0.2s; }
    input:focus { border-color: #1565ff; }
    .btn { background: #1565ff; color: #fff; font-size: 1.08rem; font-weight: 700; padding: 10px 26px; border-radius: 22px; border: none; box-shadow: 0 2px 12px #1565ff22; cursor: pointer; transition: background 0.2s, box-shadow 0.2s; width: 100%; }
    .btn:hover { background: #174ea6; }
  </style>
</head>
<body>
  <main class="layout" style="min-height:80vh;display:flex;align-items:center;justify-content:center;">
    <div class="card">
      <h1>Complete Your Profile</h1>
      <form id="profileForm">
        <label for="name">Name</label>
        <input id="name" name="name" required>
        <label for="surname">Surname</label>
        <input id="surname" name="surname" required>
        <label for="needs">What do you need?</label>
        <input id="needs" name="needs" required placeholder="e.g. Trading, Education, Portfolio">
        <button type="submit" class="btn">Continue</button>
      </form>
    </div>
  </main>
  <script>
    document.getElementById('profileForm').addEventListener('submit', async function(e) {
      e.preventDefault();
      const name = document.getElementById('name').value.trim();
      const surname = document.getElementById('surname').value.trim();
      const needs = document.getElementById('needs').value.trim();
      try {
        // Save profile to backend
        const res = await fetch('https://invex-public.onrender.com/api/users/profile', {
          method: 'PUT',
          headers: { 'Content-Type': 'application/json' },
          credentials: 'include',
          body: JSON.stringify({ name, surname, needs })
        });
        if (!res.ok) throw new Error('Failed to update profile');
        location.href = 'dashboard.html';
      } catch (err) {
        alert('Failed to update profile: ' + err.message);
      }
    });
  </script>
</body>
</html>
